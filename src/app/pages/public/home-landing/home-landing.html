<mat-toolbar color="primary" class="toolbar">
  <span class="logo">FUNKOMANIA</span>
  <span class="spacer"></span>
  <button mat-button>Inicio</button>
  <button mat-button (click)="goToAdmin()">
    <mat-icon>admin_panel_settings</mat-icon>
    Admin
  </button>
</mat-toolbar>

<section class="row p-5 ">
  <div class="col-12">
    <h2 class="text-center display-8 mt-5">Encuentra lo que necesitas para tu colección.</h2>
  </div>
 
  <div class="col-12 col-md-6 col-lg-4 col-xl-3 mb-sm-4 mb-xl-0">
    <div class="card">
      <img src="https://mifunko.com/6999-thickbox_default/figura-pop-marvel-spiderman-exclusive.jpg"
        alt="Cámaras Infrarrojas" />
      <div class="card-body">
        <h5 class="card-title">MBAPPE </h5>
        <p class="card-text">Precio: 100.000</p>
      </div>
    </div>
  </div>
  <div class="col-12 col-md-6 col-lg-4 col-xl-3 mb-sm-4 mb-xl-0">
    <div class="card">
      <img src="https://mifunko.com/5629-thickbox_default/figura-pop-dragon-ball-super-beerus-exclusive.jpg"
        alt="Cámaras Infrarrojas" />
      <div class="card-body">
        <h5 class="card-title">MBAPPE </h5>
        <p class="card-text">Precio: 100.000</p>
      </div>
    </div>
  </div>
  <div class="col-12 col-md-6 col-lg-4 col-xl-3 mb-sm-4 mb-xl-0">
    <div class="card">
      <img src="https://mifunko.com/6789-large_default/figura-pop-one-piece-snake-man-luffy.jpg"
        alt="Cámaras Infrarrojas" />
      <div class="card-body">
        <h5 class="card-title">MBAPPE </h5>
        <p class="card-text">Precio: 100.000</p>
      </div>
    </div>
  </div>
  <div class="col-12 col-md-6 col-lg-4 col-xl-3 mb-sm-4 mb-xl-0">
    <div class="card">
      <img src="https://mifunko.com/5100-thickbox_default/figura-pop-disney-pixar-toy-story-rex-exclusive.jpg"
        alt="Cámaras Infrarrojas" />
      <div class="card-body">
        <h5 class="card-title">MBAPPE </h5>
        <p class="card-text">Precio: 100.000</p>
      </div>
    </div>
  </div>



</section>

<section class="catalogo">
  <h3>Visite nuestro catálogo de productos</h3>

  <!-- Estado de carga -->
  <div *ngIf="loading" class="loading-container">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Cargando productos...</p>
  </div>

  <!-- Estado de error -->
  <div *ngIf="error && !loading" class="error-container">
    <mat-icon color="warn">error</mat-icon>
    <p>{{ error }}</p>
    <button mat-raised-button color="accent" (click)="loadProducts()">
      <mat-icon>refresh</mat-icon>
      Reintentar
    </button>
  </div>

  <!-- Lista de productos -->
  <mat-grid-list cols="4" rowHeight="400px" gutterSize="20px" *ngIf="!loading && !error && productos.length > 0">
    <mat-grid-tile *ngFor="let producto of productos">
      <mat-card class="producto-card">
        <img mat-card-image
          [src]="producto.imageUrl || 'https://i5.walmartimages.com/seo/Funko-POP-Football-Kylian-Mbapp-PSG_26b8cdaf-a999-4e78-904a-fe3930e8926c_1.95fa658cc18ab713bc292e2763d63ee6.png'"
          alt="Imagen del funko">
        <mat-card-title>{{ producto.model }}</mat-card-title>
        <mat-card-subtitle *ngIf="producto.brand">{{ producto.brand }}</mat-card-subtitle>
        <mat-card-content>
          <p *ngIf="producto.description">{{ producto.description }}</p>
          <div class="product-details" *ngIf="producto.price || producto.country">
            <p *ngIf="producto.price" class="price">
              <mat-icon>euro</mat-icon>
              {{ formatPrice(producto.price) }}
            </p>
            <p *ngIf="producto.country" class="country">
              <mat-icon>public</mat-icon>
              {{ producto.country }}
            </p>
          </div>
          <div class="product-type" *ngIf="producto.productType">
            <mat-icon>label</mat-icon>
            <span>{{ producto.productType.name }}</span>
          </div>
        </mat-card-content>
        <mat-card-actions>
          <button mat-raised-button color="primary">Ver Detalles</button>
          <button mat-stroked-button color="accent">Cotizar Producto</button>
        </mat-card-actions>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>

  <!-- Estado vacío -->
  <div *ngIf="!loading && !error && productos.length === 0" class="empty-container">
    <mat-icon>inventory_2</mat-icon>
    <h3>No hay productos disponibles</h3>
    <p>Pronto tendremos nuevos productos en nuestro catálogo</p>
  </div>
</section>

<footer class="footer">
  <p>Instrumentación 2025. Todos los derechos reservados. | Concha y Toro 65 – Santiago Centro</p>
</footer>
